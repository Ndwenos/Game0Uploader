<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game-Uploader - Share and Play Games</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Reset and base styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --primary-light: #818cf8;
            --secondary: #f59e0b;
            --dark: #1e293b;
            --dark-light: #334155;
            --light: #f8fafc;
            --gray: #94a3b8;
            --gray-light: #e2e8f0;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
        }
        
        body {
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
        }
        
        /* Header styles */
        header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 0.8rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .logo {
            display: flex;
            align-items: center;
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .logo i {
            margin-right: 10px;
            font-size: 1.8rem;
        }
        
        .search-bar {
            display: flex;
            flex: 0 1 600px;
            margin: 0 2rem;
        }
        
        .search-bar input {
            width: 100%;
            padding: 0.7rem 1rem;
            border: none;
            border-radius: 8px 0 0 8px;
            font-size: 1rem;
            background: rgba(255, 255, 255, 0.9);
            transition: all 0.3s;
        }
        
        .search-bar input:focus {
            background: white;
            outline: none;
            box-shadow: 0 0 0 2px var(--primary-light);
        }
        
        .search-bar button {
            background-color: var(--secondary);
            border: none;
            padding: 0.7rem 1.2rem;
            border-radius: 0 8px 8px 0;
            cursor: pointer;
            color: white;
            transition: background-color 0.3s;
        }
        
        .search-bar button:hover {
            background-color: #e58e0b;
        }
        
        .user-actions {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .user-actions button {
            background-color: transparent;
            border: 1px solid rgba(255, 255, 255, 0.7);
            color: white;
            padding: 0.6rem 1.2rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }
        
        .user-actions button:hover {
            background-color: rgba(255, 255, 255, 0.1);
            border-color: white;
        }
        
        .user-actions button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .user-actions button:disabled:hover {
            background-color: transparent;
            border-color: rgba(255, 255, 255, 0.7);
        }
        
        .user-info {
            display: flex;
            align-items: center;
            color: white;
        }
        
        .user-info span {
            margin-right: 10px;
            font-weight: 500;
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--secondary), #ea580c);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }
        
        /* Main content layout */
        .container {
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
            padding: 1.5rem;
        }
        
        /* Sidebar styles */
        .sidebar {
            width: 280px;
            padding-right: 1.5rem;
            max-height: calc(100vh - 120px);
            overflow-y: auto;
        }
        
        .sidebar ul {
            list-style: none;
            border-bottom: 1px solid var(--gray-light);
            padding-bottom: 1rem;
            margin-bottom: 1rem;
        }
        
        .sidebar li {
            padding: 0.8rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            transition: all 0.3s;
        }
        
        .sidebar li:hover {
            background-color: var(--gray-light);
        }
        
        .sidebar li.active {
            background-color: var(--primary-light);
            color: white;
            font-weight: 600;
        }
        
        .sidebar i {
            margin-right: 15px;
            font-size: 1.2rem;
            width: 20px;
            text-align: center;
        }
        
        .sidebar h3 {
            margin: 1.5rem 0 0.8rem 1rem;
            color: var(--dark-light);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        /* Main content area */
        .main-content {
            flex: 1;
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .section-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--dark);
        }
        
        .section-actions {
            display: flex;
            gap: 10px;
        }
        
        .filter-btn {
            background-color: white;
            border: 1px solid var(--gray-light);
            color: var(--dark);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
        }
        
        .filter-btn:hover {
            border-color: var(--primary);
            color: var(--primary);
        }
        
        /* Auth modals */
        .auth-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .auth-content {
            background-color: white;
            padding: 2.5rem;
            border-radius: 16px;
            width: 90%;
            max-width: 450px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            animation: modalAppear 0.3s ease-out;
        }
        
        @keyframes modalAppear {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .auth-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--gray-light);
        }
        
        .close-auth {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
            transition: color 0.3s;
        }
        
        .close-auth:hover {
            color: var(--dark);
        }
        
        .auth-tabs {
            display: flex;
            margin-bottom: 1.5rem;
            border-bottom: 1px solid var(--gray-light);
        }
        
        .auth-tab {
            flex: 1;
            text-align: center;
            padding: 0.8rem;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }
        
        .auth-tab.active {
            border-bottom: 3px solid var(--primary);
            font-weight: 600;
            color: var(--primary);
        }
        
        .auth-form {
            display: none;
        }
        
        .auth-form.active {
            display: block;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--dark-light);
        }
        
        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 0.8rem 1rem;
            border: 1px solid var(--gray-light);
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s;
        }
        
        .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
        }
        
        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .auth-btn {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            width: 100%;
            transition: all 0.3s;
            font-weight: 600;
            box-shadow: 0 4px 6px rgba(99, 102, 241, 0.3);
        }
        
        .auth-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(99, 102, 241, 0.4);
        }
        
        .auth-error {
            color: var(--danger);
            margin-top: 0.5rem;
            font-size: 0.9rem;
            display: none;
        }
        
        /* Upload modal */
        .upload-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background-color: white;
            padding: 2.5rem;
            border-radius: 16px;
            width: 90%;
            max-width: 700px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            animation: modalAppear 0.3s ease-out;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--gray-light);
        }
        
        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
            transition: color 0.3s;
        }
        
        .close-modal:hover {
            color: var(--dark);
        }
        
        .upload-options {
            display: flex;
            gap: 10px;
            margin-bottom: 1.5rem;
        }
        
        .upload-option {
            flex: 1;
            text-align: center;
            padding: 1.5rem 1rem;
            border: 2px dashed var(--gray-light);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .upload-option:hover {
            border-color: var(--primary);
            background-color: rgba(99, 102, 241, 0.05);
        }
        
        .upload-option.active {
            border-color: var(--primary);
            background-color: rgba(99, 102, 241, 0.1);
        }
        
        .file-upload-area {
            border: 2px dashed var(--gray-light);
            border-radius: 12px;
            padding: 2rem;
            text-align: center;
            margin-bottom: 1.5rem;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .file-upload-area:hover, .file-upload-area.dragover {
            border-color: var(--primary);
            background-color: rgba(99, 102, 241, 0.05);
        }
        
        .file-upload-area i {
            font-size: 3rem;
            color: var(--gray);
            margin-bottom: 1rem;
        }
        
        .file-list {
            margin-top: 1rem;
            max-height: 200px;
            overflow-y: auto;
        }
        
        .file-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.8rem;
            background-color: var(--gray-light);
            border-radius: 8px;
            margin-bottom: 0.5rem;
        }
        
        .file-item:last-child {
            margin-bottom: 0;
        }
        
        .file-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .file-icon {
            color: var(--primary);
        }
        
        .file-actions {
            display: flex;
            gap: 5px;
        }
        
        .file-action {
            background: none;
            border: none;
            color: var(--gray);
            cursor: pointer;
            transition: color 0.3s;
        }
        
        .file-action:hover {
            color: var(--danger);
        }
        
        .submit-btn {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            width: 100%;
            transition: all 0.3s;
            font-weight: 600;
            box-shadow: 0 4px 6px rgba(99, 102, 241, 0.3);
            margin-top: 1rem;
        }
        
        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(99, 102, 241, 0.4);
        }
        
        .submit-btn:disabled {
            background: var(--gray);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        /* Game grid */
        .game-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        
        .game-card {
            background-color: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }
        
        .game-thumbnail {
            position: relative;
            width: 100%;
            height: 180px;
            overflow: hidden;
        }
        
        .game-thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }
        
        .game-card:hover .game-thumbnail img {
            transform: scale(1.05);
        }
        
        .game-duration {
            position: absolute;
            bottom: 8px;
            right: 8px;
            background-color: rgba(0,0,0,0.8);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 500;
        }
        
        .game-info {
            padding: 1.2rem;
        }
        
        .game-title {
            font-weight: 700;
            margin-bottom: 0.5rem;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            color: var(--dark);
        }
        
        .game-meta {
            display: flex;
            justify-content: space-between;
            color: var(--gray);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }
        
        .game-author {
            color: var(--primary);
            font-weight: 500;
        }
        
        .game-category {
            display: inline-block;
            background-color: var(--primary-light);
            color: white;
            padding: 0.2rem 0.6rem;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 600;
            margin-top: 0.5rem;
        }
        
        /* Game player modal */
        .game-player-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.95);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .player-content {
            width: 95%;
            max-width: 1200px;
            background-color: var(--dark);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        
        .player-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.2rem;
            background-color: var(--dark-light);
            color: white;
        }
        
        .close-player {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            transition: color 0.3s;
            padding: 5px;
            border-radius: 4px;
        }
        
        .close-player:hover {
            color: var(--secondary);
            background-color: rgba(255,255,255,0.1);
        }
        
        .game-frame {
            width: 100%;
            height: 600px;
            border: none;
        }
        
        .player-info {
            padding: 1.2rem;
            color: white;
        }
        
        /* Empty state */
        .empty-state {
            text-align: center;
            padding: 3rem;
            color: var(--gray);
        }
        
        .empty-state i {
            font-size: 4rem;
            margin-bottom: 1rem;
            color: var(--gray-light);
        }
        
        /* Responsive styles */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                padding-right: 0;
                margin-bottom: 1.5rem;
                max-height: none;
            }
            
            .search-bar {
                flex: 1;
                margin: 0 1rem;
            }
            
            .game-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
        }
        
        @media (max-width: 576px) {
            header {
                padding: 0.8rem;
            }
            
            .logo span {
                display: none;
            }
            
            .search-bar {
                margin: 0 0.5rem;
            }
            
            .user-actions button span {
                display: none;
            }
            
            .game-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="logo">
            <i class="fas fa-gamepad"></i>
            <span>Game-Uploader</span>
        </div>
        <div class="search-bar">
            <input type="text" placeholder="Search games...">
            <button><i class="fas fa-search"></i></button>
        </div>
        <div class="user-actions">
            <button id="upload-btn"><i class="fas fa-upload"></i> <span>Upload</span></button>
            <div id="auth-buttons">
                <button id="signin-btn"><i class="fas fa-user"></i> <span>Sign In</span></button>
            </div>
            <div id="user-info" class="user-info" style="display: none;">
                <div class="user-avatar" id="user-avatar">U</div>
                <span id="username-display">Username</span>
                <button id="signout-btn"><i class="fas fa-sign-out-alt"></i> <span>Sign Out</span></button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <ul>
                <li class="active" data-section="home"><i class="fas fa-home"></i> Home</li>
                <li data-section="trending"><i class="fas fa-fire"></i> Trending</li>
                <li data-section="history"><i class="fas fa-history"></i> History</li>
                <li data-section="liked"><i class="fas fa-heart"></i> Liked Games</li>
                <li data-section="downloads"><i class="fas fa-download"></i> Downloads</li>
            </ul>
            <h3>Game Categories</h3>
            <ul>
                <li data-category="action"><i class="fas fa-running"></i> Action</li>
                <li data-category="shooter"><i class="fas fa-crosshairs"></i> Shooters</li>
                <li data-category="racing"><i class="fas fa-car"></i> Racing</li>
                <li data-category="driving"><i class="fas fa-truck-monster"></i> Driving</li>
                <li data-category="strategy"><i class="fas fa-chess"></i> Strategy</li>
                <li data-category="puzzle"><i class="fas fa-puzzle-piece"></i> Puzzle</li>
                <li data-category="emulator"><i class="fas fa-game-console-handheld"></i> Emulators</li>
                <li data-category="adventure"><i class="fas fa-mountain"></i> Adventure</li>
                <li data-category="rpg"><i class="fas fa-dragon"></i> RPG</li>
                <li data-category="sports"><i class="fas fa-basketball-ball"></i> Sports</li>
                <li data-category="arcade"><i class="fas fa-joystick"></i> Arcade</li>
                <li data-category="simulation"><i class="fas fa-plane"></i> Simulation</li>
                <li data-category="horror"><i class="fas fa-ghost"></i> Horror</li>
                <li data-category="fighting"><i class="fas fa-fist-raised"></i> Fighting</li>
                <li data-category="platformer"><i class="fas fa-shoe-prints"></i> Platformer</li>
                <li data-category="battle-royale"><i class="fas fa-skull-crossbones"></i> Battle Royale</li>
                <li data-category="mmo"><i class="fas fa-users"></i> MMO</li>
                <li data-category="indie"><i class="fas fa-gamepad"></i> Indie</li>
                <li data-category="casual"><i class="fas fa-mobile-alt"></i> Casual</li>
                <li data-category="educational"><i class="fas fa-graduation-cap"></i> Educational</li>
                <li data-category="music"><i class="fas fa-music"></i> Music</li>
                <li data-category="party"><i class="fas fa-glass-cheers"></i> Party</li>
                <li data-category="card"><i class="fas fa-club"></i> Card Games</li>
                <li data-category="board"><i class="fas fa-chess-board"></i> Board Games</li>
                <li data-category="trivia"><i class="fas fa-question-circle"></i> Trivia</li>
            </ul>
        </div>

        <!-- Main Content Area -->
        <div class="main-content">
            <div class="section-header">
                <h2 class="section-title" id="section-title">Recommended Games</h2>
                <div class="section-actions">
                    <button class="filter-btn"><i class="fas fa-filter"></i> <span>Filter</span></button>
                    <button class="filter-btn"><i class="fas fa-sort"></i> <span>Sort</span></button>
                </div>
            </div>
            <div class="game-grid" id="game-grid">
                <!-- Game cards will be dynamically added here -->
            </div>
        </div>
    </div>

    <!-- Auth Modal -->
    <div class="auth-modal" id="auth-modal">
        <div class="auth-content">
            <div class="auth-header">
                <h2>Welcome to Game-Uploader</h2>
                <button class="close-auth" id="close-auth">&times;</button>
            </div>
            <div class="auth-tabs">
                <div class="auth-tab active" id="login-tab">Sign In</div>
                <div class="auth-tab" id="register-tab">Create Account</div>
            </div>
            <form id="login-form" class="auth-form active">
                <div class="form-group">
                    <label for="login-username">Username</label>
                    <input type="text" id="login-username" required>
                </div>
                <div class="form-group">
                    <label for="login-password">Password</label>
                    <input type="password" id="login-password" required>
                </div>
                <div class="auth-error" id="login-error">Invalid username or password</div>
                <button type="submit" class="auth-btn">Sign In</button>
            </form>
            <form id="register-form" class="auth-form">
                <div class="form-group">
                    <label for="register-username">Username</label>
                    <input type="text" id="register-username" required>
                    <div class="auth-error" id="username-error">Username already exists</div>
                </div>
                <div class="form-group">
                    <label for="register-password">Password</label>
                    <input type="password" id="register-password" required>
                    <div class="auth-error" id="password-error">Password must be at least 6 characters</div>
                </div>
                <div class="form-group">
                    <label for="confirm-password">Confirm Password</label>
                    <input type="password" id="confirm-password" required>
                    <div class="auth-error" id="confirm-error">Passwords do not match</div>
                </div>
                <button type="submit" class="auth-btn">Create Account</button>
            </form>
        </div>
    </div>

    <!-- Upload Modal -->
    <div class="upload-modal" id="upload-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Upload a Game</h2>
                <button class="close-modal" id="close-modal">&times;</button>
            </div>
            <form id="upload-form">
                <div class="form-group">
                    <label for="game-title">Game Title</label>
                    <input type="text" id="game-title" required>
                </div>
                <div class="form-group">
                    <label for="game-description">Description</label>
                    <textarea id="game-description"></textarea>
                </div>
                <div class="form-group">
                    <label for="game-category">Category</label>
                    <select id="game-category" required>
                        <option value="">Select a category</option>
                        <option value="action">Action</option>
                        <option value="shooter">Shooters</option>
                        <option value="racing">Racing</option>
                        <option value="driving">Driving</option>
                        <option value="strategy">Strategy</option>
                        <option value="puzzle">Puzzle</option>
                        <option value="emulator">Emulators</option>
                        <option value="adventure">Adventure</option>
                        <option value="rpg">RPG</option>
                        <option value="sports">Sports</option>
                        <option value="arcade">Arcade</option>
                        <option value="simulation">Simulation</option>
                        <option value="horror">Horror</option>
                        <option value="fighting">Fighting</option>
                        <option value="platformer">Platformer</option>
                        <option value="battle-royale">Battle Royale</option>
                        <option value="mmo">MMO</option>
                        <option value="indie">Indie</option>
                        <option value="casual">Casual</option>
                        <option value="educational">Educational</option>
                        <option value="music">Music</option>
                        <option value="party">Party</option>
                        <option value="card">Card Games</option>
                        <option value="board">Board Games</option>
                        <option value="trivia">Trivia</option>
                    </select>
                </div>
                <div class="upload-options">
                    <div class="upload-option active" id="link-option">
                        <i class="fas fa-link fa-2x"></i>
                        <p>Game Link</p>
                    </div>
                    <div class="upload-option" id="file-option">
                        <i class="fas fa-file-upload fa-2x"></i>
                        <p>Upload Files</p>
                    </div>
                </div>
                <div class="form-group" id="link-input">
                    <label for="game-link">Game URL</label>
                    <input type="url" id="game-link" placeholder="https://example.com/game">
                </div>
                <div class="form-group" id="file-input" style="display: none;">
                    <label>Game Files</label>
                    <div class="file-upload-area" id="file-upload-area">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <h3>Drag & Drop Files Here</h3>
                        <p>or click to browse</p>
                        <input type="file" id="game-files" multiple style="display: none;">
                    </div>
                    <div class="file-list" id="file-list">
                        <!-- File items will be added here -->
                    </div>
                </div>
                <div class="form-group">
                    <label for="game-thumbnail">Thumbnail</label>
                    <input type="file" id="game-thumbnail" accept="image/*">
                </div>
                <button type="submit" class="submit-btn">Upload Game</button>
            </form>
        </div>
    </div>

    <!-- Game Player Modal -->
    <div class="game-player-modal" id="game-player-modal">
        <div class="player-content">
            <div class="player-header">
                <h3 id="player-title">Game Title</h3>
                <button class="close-player" id="close-player">&times;</button>
            </div>
            <iframe class="game-frame" id="game-frame" src="about:blank"></iframe>
            <div class="player-info">
                <p id="player-description">Game description will appear here.</p>
                <p class="game-author">Uploaded by: <span id="player-author">Username</span></p>
                <p class="game-category">Category: <span id="player-category">Action</span></p>
            </div>
        </div>
    </div>

    <script>
        // User management and authentication
        let users = JSON.parse(localStorage.getItem('gameUploaderUsers')) || [];
        let currentUser = JSON.parse(localStorage.getItem('gameUploaderCurrentUser')) || null;
        
        // FIXED: Use a shared storage for all games that all users can access
        let games = JSON.parse(localStorage.getItem('gameUploaderSharedGames')) || [];
        let selectedFiles = [];
        let currentSection = 'home';

        // FIXED: Default placeholder images that persist
        const defaultThumbnails = [
            'https://images.unsplash.com/photo-1550745165-9bc0b252726f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80',
            'https://images.unsplash.com/photo-1534423861386-85a16f5d13fd?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80',
            'https://images.unsplash.com/photo-1542751371-adc38448a05e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80',
            'https://images.unsplash.com/photo-1632501641765-e56828e0b148?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80',
            'https://images.unsplash.com/photo-1585842378054-ee2e52f94ba1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80'
        ];

        // DOM Elements
        const authModal = document.getElementById('auth-modal');
        const closeAuth = document.getElementById('close-auth');
        const signinBtn = document.getElementById('signin-btn');
        const signoutBtn = document.getElementById('signout-btn');
        const authButtons = document.getElementById('auth-buttons');
        const userInfo = document.getElementById('user-info');
        const userAvatar = document.getElementById('user-avatar');
        const usernameDisplay = document.getElementById('username-display');
        const loginTab = document.getElementById('login-tab');
        const registerTab = document.getElementById('register-tab');
        const loginForm = document.getElementById('login-form');
        const registerForm = document.getElementById('register-form');
        const loginError = document.getElementById('login-error');
        const usernameError = document.getElementById('username-error');
        const passwordError = document.getElementById('password-error');
        const confirmError = document.getElementById('confirm-error');
        
        const uploadBtn = document.getElementById('upload-btn');
        const uploadModal = document.getElementById('upload-modal');
        const closeModal = document.getElementById('close-modal');
        const uploadForm = document.getElementById('upload-form');
        const linkOption = document.getElementById('link-option');
        const fileOption = document.getElementById('file-option');
        const linkInput = document.getElementById('link-input');
        const fileInput = document.getElementById('file-input');
        const fileUploadArea = document.getElementById('file-upload-area');
        const gameFilesInput = document.getElementById('game-files');
        const fileList = document.getElementById('file-list');
        const gameGrid = document.getElementById('game-grid');
        const gamePlayerModal = document.getElementById('game-player-modal');
        const gameFrame = document.getElementById('game-frame');
        const playerTitle = document.getElementById('player-title');
        const playerDescription = document.getElementById('player-description');
        const playerAuthor = document.getElementById('player-author');
        const playerCategory = document.getElementById('player-category');
        const sectionTitle = document.getElementById('section-title');
        const sidebarItems = document.querySelectorAll('.sidebar li');
        const closePlayer = document.getElementById('close-player');

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            updateAuthUI();
            renderGames(games);
            
            // Add event listeners
            setupEventListeners();
            
            // Set up sidebar navigation
            setupSidebarNavigation();
        });

        // Set up all event listeners
        function setupEventListeners() {
            // Auth modal
            signinBtn.addEventListener('click', openAuthModal);
            closeAuth.addEventListener('click', closeAuthModal);
            
            // Auth tabs
            loginTab.addEventListener('click', switchToLogin);
            registerTab.addEventListener('click', switchToRegister);
            
            // Auth forms
            loginForm.addEventListener('submit', handleLogin);
            registerForm.addEventListener('submit', handleRegister);
            
            // Sign out
            signoutBtn.addEventListener('click', handleSignOut);
            
            // Upload modal
            uploadBtn.addEventListener('click', openUploadModal);
            closeModal.addEventListener('click', closeUploadModal);
            
            // Upload options
            linkOption.addEventListener('click', selectLinkOption);
            fileOption.addEventListener('click', selectFileOption);
            
            // File upload
            fileUploadArea.addEventListener('click', () => gameFilesInput.click());
            gameFilesInput.addEventListener('change', handleFileSelect);
            
            // Drag and drop
            fileUploadArea.addEventListener('dragover', handleDragOver);
            fileUploadArea.addEventListener('dragleave', handleDragLeave);
            fileUploadArea.addEventListener('drop', handleFileDrop);
            
            // Upload form
            uploadForm.addEventListener('submit', handleUpload);
            
            // Game player - FIXED: Properly set up close button
            closePlayer.addEventListener('click', closeGamePlayer);
            
            // Close modals when clicking outside
            window.addEventListener('click', handleOutsideClick);
        }

        // Set up sidebar navigation
        function setupSidebarNavigation() {
            sidebarItems.forEach(item => {
                item.addEventListener('click', function() {
                    // Remove active class from all items
                    sidebarItems.forEach(i => i.classList.remove('active'));
                    
                    // Add active class to clicked item
                    this.classList.add('active');
                    
                    // Handle section navigation
                    const section = this.getAttribute('data-section');
                    const category = this.getAttribute('data-category');
                    
                    if (section) {
                        currentSection = section;
                        updateSectionTitle(section);
                        filterGamesBySection(section);
                    } else if (category) {
                        currentSection = category;
                        updateSectionTitle(category);
                        filterGamesByCategory(category);
                    }
                });
            });
        }

        // Update section title based on selection
        function updateSectionTitle(section) {
            const titles = {
                'home': 'Recommended Games',
                'trending': 'Trending Games',
                'history': 'Recently Played',
                'liked': 'Your Liked Games',
                'downloads': 'Downloaded Games',
                'action': 'Action Games',
                'shooter': 'Shooter Games',
                'racing': 'Racing Games',
                'driving': 'Driving Games',
                'strategy': 'Strategy Games',
                'puzzle': 'Puzzle Games',
                'emulator': 'Emulator Games',
                'adventure': 'Adventure Games',
                'rpg': 'RPG Games',
                'sports': 'Sports Games',
                'arcade': 'Arcade Games',
                'simulation': 'Simulation Games',
                'horror': 'Horror Games',
                'fighting': 'Fighting Games',
                'platformer': 'Platformer Games',
                'battle-royale': 'Battle Royale Games',
                'mmo': 'MMO Games',
                'indie': 'Indie Games',
                'casual': 'Casual Games',
                'educational': 'Educational Games',
                'music': 'Music Games',
                'party': 'Party Games',
                'card': 'Card Games',
                'board': 'Board Games',
                'trivia': 'Trivia Games'
            };
            
            sectionTitle.textContent = titles[section] || 'Games';
        }

        // Filter games by section
        function filterGamesBySection(section) {
            let filteredGames = [...games];
            
            switch(section) {
                case 'trending':
                    // Sort by views (simplified)
                    filteredGames.sort((a, b) => parseFloat(b.views) - parseFloat(a.views));
                    break;
                case 'history':
                    // Show recently uploaded (simplified)
                    filteredGames = filteredGames.slice(0, 3);
                    break;
                case 'liked':
                    // In a real app, this would filter by user's liked games
                    filteredGames = filteredGames.slice(0, 2);
                    break;
                case 'downloads':
                    // In a real app, this would filter by user's downloaded games
                    filteredGames = filteredGames.slice(0, 1);
                    break;
                default:
                    // Home - show all games
                    break;
            }
            
            renderGames(filteredGames);
        }

        // Filter games by category
        function filterGamesByCategory(category) {
            const filteredGames = games.filter(game => game.category === category);
            renderGames(filteredGames);
        }

        // Update UI based on authentication status
        function updateAuthUI() {
            if (currentUser) {
                authButtons.style.display = 'none';
                userInfo.style.display = 'flex';
                usernameDisplay.textContent = currentUser.username;
                userAvatar.textContent = currentUser.username.charAt(0).toUpperCase();
                uploadBtn.disabled = false;
            } else {
                authButtons.style.display = 'block';
                userInfo.style.display = 'none';
                uploadBtn.disabled = true;
            }
        }

        // Render games to the grid
        function renderGames(games) {
            gameGrid.innerHTML = '';
            
            if (games.length === 0) {
                gameGrid.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-gamepad"></i>
                        <h3>No Games Available</h3>
                        <p>Be the first to upload a game!</p>
                    </div>
                `;
                return;
            }
            
            games.forEach(game => {
                const gameCard = document.createElement('div');
                gameCard.className = 'game-card';
                
                // FIXED: Use persistent thumbnail URLs
                const thumbnailUrl = game.thumbnail && game.thumbnail.startsWith('blob:') 
                    ? defaultThumbnails[Math.floor(Math.random() * defaultThumbnails.length)]
                    : game.thumbnail;
                
                gameCard.innerHTML = `
                    <div class="game-thumbnail">
                        <img src="${thumbnailUrl}" alt="${game.title}" onerror="this.src='${defaultThumbnails[0]}'">
                        <div class="game-duration">${game.type === 'link' ? 'WEB' : 'FILES'}</div>
                    </div>
                    <div class="game-info">
                        <div class="game-title">${game.title}</div>
                        <div class="game-meta">
                            <span>${game.views} views</span>
                            <span>${game.uploadDate}</span>
                        </div>
                        <div class="game-author">By ${game.author}</div>
                        <div class="game-category">${game.category}</div>
                    </div>
                `;
                gameCard.addEventListener('click', () => openGamePlayer(game));
                gameGrid.appendChild(gameCard);
            });
        }

        // Auth modal functions
        function openAuthModal() {
            authModal.style.display = 'flex';
        }

        function closeAuthModal() {
            authModal.style.display = 'none';
            resetAuthForms();
        }

        function switchToLogin() {
            loginTab.classList.add('active');
            registerTab.classList.remove('active');
            loginForm.classList.add('active');
            registerForm.classList.remove('active');
            resetAuthErrors();
        }

        function switchToRegister() {
            registerTab.classList.add('active');
            loginTab.classList.remove('active');
            registerForm.classList.add('active');
            loginForm.classList.remove('active');
            resetAuthErrors();
        }

        // Reset auth forms and errors
        function resetAuthForms() {
            loginForm.reset();
            registerForm.reset();
            resetAuthErrors();
        }

        function resetAuthErrors() {
            loginError.style.display = 'none';
            usernameError.style.display = 'none';
            passwordError.style.display = 'none';
            confirmError.style.display = 'none';
        }

        // Login form submission
        function handleLogin(e) {
            e.preventDefault();
            resetAuthErrors();
            
            const username = document.getElementById('login-username').value;
            const password = document.getElementById('login-password').value;
            
            const user = users.find(u => u.username === username && u.password === password);
            
            if (user) {
                currentUser = user;
                localStorage.setItem('gameUploaderCurrentUser', JSON.stringify(currentUser));
                updateAuthUI();
                authModal.style.display = 'none';
                resetAuthForms();
            } else {
                loginError.style.display = 'block';
            }
        }

        // Register form submission
        function handleRegister(e) {
            e.preventDefault();
            resetAuthErrors();
            
            const username = document.getElementById('register-username').value;
            const password = document.getElementById('register-password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            
            let hasError = false;
            
            // Check if username already exists
            if (users.find(u => u.username === username)) {
                usernameError.style.display = 'block';
                hasError = true;
            }
            
            // Check password length
            if (password.length < 6) {
                passwordError.style.display = 'block';
                hasError = true;
            }
            
            // Check if passwords match
            if (password !== confirmPassword) {
                confirmError.style.display = 'block';
                hasError = true;
            }
            
            if (hasError) return;
            
            // Create new user
            const newUser = {
                id: Date.now(),
                username: username,
                password: password
            };
            
            users.push(newUser);
            localStorage.setItem('gameUploaderUsers', JSON.stringify(users));
            
            // Auto login after registration
            currentUser = newUser;
            localStorage.setItem('gameUploaderCurrentUser', JSON.stringify(currentUser));
            updateAuthUI();
            authModal.style.display = 'none';
            resetAuthForms();
            
            alert(`Account created successfully! Welcome, ${username}!`);
        }

        // Sign out
        function handleSignOut() {
            currentUser = null;
            localStorage.removeItem('gameUploaderCurrentUser');
            updateAuthUI();
        }

        // Upload modal functions
        function openUploadModal() {
            if (!currentUser) {
                authModal.style.display = 'flex';
                return;
            }
            uploadModal.style.display = 'flex';
        }

        function closeUploadModal() {
            uploadModal.style.display = 'none';
            resetUploadForm();
        }

        function resetUploadForm() {
            uploadForm.reset();
            selectedFiles = [];
            updateFileList();
            selectLinkOption();
        }

        // Upload options
        function selectLinkOption() {
            linkOption.classList.add('active');
            fileOption.classList.remove('active');
            linkInput.style.display = 'block';
            fileInput.style.display = 'none';
        }

        function selectFileOption() {
            fileOption.classList.add('active');
            linkOption.classList.remove('active');
            fileInput.style.display = 'block';
            linkInput.style.display = 'none';
        }

        // File handling
        function handleFileSelect(e) {
            const files = Array.from(e.target.files);
            addFiles(files);
        }

        function handleDragOver(e) {
            e.preventDefault();
            fileUploadArea.classList.add('dragover');
        }

        function handleDragLeave(e) {
            e.preventDefault();
            fileUploadArea.classList.remove('dragover');
        }

        function handleFileDrop(e) {
            e.preventDefault();
            fileUploadArea.classList.remove('dragover');
            const files = Array.from(e.dataTransfer.files);
            addFiles(files);
        }

        function addFiles(files) {
            files.forEach(file => {
                // Check if file already exists
                if (!selectedFiles.some(f => f.name === file.name && f.size === file.size)) {
                    selectedFiles.push(file);
                }
            });
            updateFileList();
        }

        function removeFile(index) {
            selectedFiles.splice(index, 1);
            updateFileList();
        }

        function updateFileList() {
            fileList.innerHTML = '';
            
            if (selectedFiles.length === 0) {
                fileList.innerHTML = '<p style="text-align: center; color: var(--gray);">No files selected</p>';
                return;
            }
            
            selectedFiles.forEach((file, index) => {
                const fileItem = document.createElement('div');
                fileItem.className = 'file-item';
                
                const fileSize = formatFileSize(file.size);
                const fileExtension = file.name.split('.').pop().toUpperCase();
                
                fileItem.innerHTML = `
                    <div class="file-info">
                        <i class="fas fa-file file-icon"></i>
                        <div>
                            <div>${file.name}</div>
                            <div style="font-size: 0.8rem; color: var(--gray);">${fileSize} • ${fileExtension}</div>
                        </div>
                    </div>
                    <div class="file-actions">
                        <button class="file-action" onclick="removeFile(${index})">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                `;
                
                fileList.appendChild(fileItem);
            });
        }

        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        // Handle upload form submission
        function handleUpload(e) {
            e.preventDefault();
            
            if (!currentUser) {
                alert('You must be signed in to upload games.');
                return;
            }
            
            const title = document.getElementById('game-title').value;
            const description = document.getElementById('game-description').value;
            const category = document.getElementById('game-category').value;
            const thumbnailFile = document.getElementById('game-thumbnail').files[0];
            
            let gameUrl;
            let type;
            let filesInfo = [];
            
            if (linkOption.classList.contains('active')) {
                gameUrl = document.getElementById('game-link').value;
                type = 'link';
            } else {
                // For file uploads, we would normally upload to a server
                // For this demo, we'll just use a placeholder
                gameUrl = 'game-files-preview.html';
                type = 'files';
                
                // Store file info for display
                filesInfo = selectedFiles.map(file => ({
                    name: file.name,
                    size: file.size,
                    type: file.type
                }));
            }
            
            // FIXED: Use persistent thumbnail URLs instead of blob URLs
            let thumbnailUrl;
            if (thumbnailFile) {
                // In a real app, we would upload this to a server
                // For this demo, we'll use a random placeholder from our default thumbnails
                thumbnailUrl = defaultThumbnails[Math.floor(Math.random() * defaultThumbnails.length)];
            } else {
                // Use a random default thumbnail
                thumbnailUrl = defaultThumbnails[Math.floor(Math.random() * defaultThumbnails.length)];
            }
            
            // Create new game object
            const newGame = {
                id: Date.now(),
                title: title,
                description: description,
                url: gameUrl,
                thumbnail: thumbnailUrl,
                type: type,
                category: category,
                files: filesInfo,
                views: "0",
                uploadDate: "Just now",
                author: currentUser.username
            };
            
            // FIXED: Add to shared games array that all users can access
            games.unshift(newGame);
            localStorage.setItem('gameUploaderSharedGames', JSON.stringify(games));
            
            // Re-render games
            renderGames(games);
            
            // Close modal and reset form
            uploadModal.style.display = 'none';
            resetUploadForm();
            
            // Show success message
            alert('Game uploaded successfully! All users can now see your game.');
        }

        // Open game player
        function openGamePlayer(game) {
            playerTitle.textContent = game.title;
            playerDescription.textContent = game.description;
            playerAuthor.textContent = game.author;
            playerCategory.textContent = game.category;
            
            if (game.type === 'link') {
                gameFrame.src = game.url;
            } else {
                // For file-based games, we would normally load the game files
                // For this demo, we'll show a placeholder
                gameFrame.src = 'about:blank';
                gameFrame.srcdoc = `
                    <!DOCTYPE html>
                    <html>
                    <head>
                        <title>${game.title}</title>
                        <style>
                            body {
                                font-family: Arial, sans-serif;
                                display: flex;
                                justify-content: center;
                                align-items: center;
                                height: 100vh;
                                margin: 0;
                                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                                color: white;
                                text-align: center;
                            }
                            .content {
                                max-width: 500px;
                                padding: 2rem;
                            }
                            h1 {
                                margin-bottom: 1rem;
                            }
                        </style>
                    </head>
                    <body>
                        <div class="content">
                            <h1>${game.title}</h1>
                            <p>This is a file-based game with ${game.files ? game.files.length : 0} files.</p>
                            <p>In a real implementation, the game files would be loaded and executed here.</p>
                            <p><i class="fas fa-download"></i> Download ready</p>
                        </div>
                    </body>
                    </html>
                `;
            }
            
            gamePlayerModal.style.display = 'flex';
        }

        // Close game player modal - FIXED: This function now works properly
        function closeGamePlayer() {
            gamePlayerModal.style.display = 'none';
            gameFrame.src = 'about:blank'; // Stop the game when closing
        }

        // Close modals when clicking outside
        function handleOutsideClick(e) {
            if (e.target === authModal) {
                authModal.style.display = 'none';
                resetAuthForms();
            }
            if (e.target === uploadModal) {
                uploadModal.style.display = 'none';
                resetUploadForm();
            }
            if (e.target === gamePlayerModal) {
                closeGamePlayer();
            }
        }
    </script>
</body>
</html>